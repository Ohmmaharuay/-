const dailyLuckyItems = {
    "Monday": { item: "‡∏û‡∏£‡∏∞‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á", color: "‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á" },
    "Tuesday": { item: "‡∏´‡∏¥‡∏ô‡∏ô‡∏≥‡πÇ‡∏ä‡∏Ñ", color: "‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π" },
    "Wednesday": { item: "‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç‡∏ô‡∏≥‡πÇ‡∏ä‡∏Ñ", color: "‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß" },
    "Thursday": { item: "‡∏ô‡πâ‡∏≥‡∏´‡∏≠‡∏°‡∏Å‡∏•‡∏¥‡πà‡∏ô‡∏î‡∏≠‡∏Å‡πÑ‡∏°‡πâ", color: "‡∏™‡∏µ‡∏™‡πâ‡∏°" },
    "Friday": { item: "‡∏Å‡∏≥‡πÑ‡∏•‡∏´‡∏¢‡∏Å", color: "‡∏™‡∏µ‡∏ü‡πâ‡∏≤" },
    "Saturday": { item: "‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡πã‡∏≤‡∏™‡∏ï‡∏≤‡∏á‡∏Ñ‡πå‡πÅ‡∏î‡∏á", color: "‡∏™‡∏µ‡πÅ‡∏î‡∏á" },
    "Sunday": { item: "‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô‡∏´‡∏≠‡∏°", color: "‡∏™‡∏µ‡∏ó‡∏≠‡∏á" }
};

const fortunes = [
    // üî• ‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ‡∏°‡∏≤‡∏Å
    { text: "‡∏ü‡πâ‡∏≤‡∏™‡πà‡∏á‡πÄ‡∏™‡∏£‡∏¥‡∏° ‡∏î‡∏¥‡∏ô‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô - ‡∏™‡∏°‡∏´‡∏ß‡∏±‡∏á‡πÉ‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à", type: "good" },
    { text: "‡πÇ‡∏ä‡∏Ñ‡πÉ‡∏´‡∏ç‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏°‡∏≤ - ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏î‡∏µ‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô", type: "good" },
    { text: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏™‡∏°‡∏´‡∏ß‡∏±‡∏á - ‡∏û‡∏ö‡∏Ñ‡∏π‡πà‡πÅ‡∏ó‡πâ", type: "good" },
    { text: "‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á - ‡∏´‡∏≤‡∏¢‡∏à‡∏≤‡∏Å‡πÇ‡∏£‡∏Ñ‡∏†‡∏±‡∏¢", type: "good" },
    { text: "‡∏Ç‡πà‡∏≤‡∏ß‡∏î‡∏µ‡∏à‡∏≤‡∏Å‡πÅ‡∏î‡∏ô‡πÑ‡∏Å‡∏• - ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÉ‡∏´‡∏°‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏°‡∏≤", type: "good" },

    // ‚öñÔ∏è ‡πÇ‡∏ä‡∏Ñ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á
    { text: "‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏•‡∏á‡∏°‡∏∑‡∏≠‡∏ó‡∏≥ - ‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏¢‡∏±‡∏ô‡∏à‡∏∂‡∏á‡∏à‡∏∞‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", type: "neutral" },
    { text: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï - ‡∏Ñ‡πà‡∏≠‡∏¢‡πÜ ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå", type: "neutral" },
    { text: "‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö - ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢", type: "neutral" },
    { text: "‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏≠‡∏á‡∏°‡∏µ‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏ï‡πà‡∏Å‡πá‡∏°‡∏µ‡∏≠‡∏≠‡∏Å - ‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏£‡∏≠‡∏ö‡∏Ñ‡∏≠‡∏ö", type: "neutral" },
    { text: "‡∏≠‡∏î‡∏ó‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏ú‡∏• - ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏à‡∏∞‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", type: "neutral" },

    // ‚ùó ‡πÇ‡∏ä‡∏Ñ‡∏£‡πâ‡∏≤‡∏¢‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢
    { text: "‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå - ‡∏≠‡∏¢‡πà‡∏≤‡∏´‡∏∏‡∏ô‡∏´‡∏±‡∏ô‡∏û‡∏•‡∏±‡∏ô‡πÅ‡∏•‡πà‡∏ô", type: "bad" },
    { text: "‡∏°‡∏µ‡∏Ñ‡∏ô‡∏≠‡∏¥‡∏à‡∏â‡∏≤ - ‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏Ñ‡∏ô‡πÑ‡∏°‡πà‡∏´‡∏ß‡∏±‡∏á‡∏î‡∏µ", type: "bad" },
    { text: "‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏π‡πÅ‡∏• - ‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡∏û‡∏≠", type: "bad" },
    { text: "‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô‡∏ï‡∏¥‡∏î‡∏Ç‡∏±‡∏î‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ - ‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î", type: "bad" },
    { text: "‡∏£‡∏∞‡∏ß‡∏±‡∏á‡∏Ç‡∏≠‡∏á‡∏´‡∏≤‡∏¢ - ‡∏à‡∏±‡∏î‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏≠‡∏á‡πÉ‡∏´‡πâ‡∏î‡∏µ", type: "bad" },

    // ‚ùå ‡πÇ‡∏ä‡∏Ñ‡∏£‡πâ‡∏≤‡∏¢‡∏°‡∏≤‡∏Å
    { text: "‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô - ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏î‡πâ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢", type: "verybad" },
    { text: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ - ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏ú‡∏¥‡∏î", type: "verybad" },
    { text: "‡∏Å‡∏≤‡∏£‡∏á‡∏≤‡∏ô‡∏ï‡∏¥‡∏î‡∏Ç‡∏±‡∏î - ‡∏á‡∏≤‡∏ô‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏≠‡∏∏‡∏õ‡∏™‡∏£‡∏£‡∏Ñ", type: "verybad" },
    { text: "‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÑ‡∏°‡πà‡∏™‡∏∞‡∏î‡∏ß‡∏Å - ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡πÄ‡∏´‡∏ï‡∏∏‡πÉ‡∏´‡πâ‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏•‡πà‡∏≤‡∏ä‡πâ‡∏≤", type: "verybad" },
    { text: "‡∏ï‡πâ‡∏≠‡∏á‡∏û‡∏∂‡πà‡∏á‡∏û‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á - ‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡∏ä‡πà‡∏ß‡∏¢", type: "verybad" }
];

function getDayOfWeek() {
    return new Date().toLocaleDateString('en-US', { weekday: 'long' });
}

function canDrawFortune() {
    let lastDrawDate = localStorage.getItem("lastDrawDate");
    let today = new Date().toISOString().split("T")[0];
    return lastDrawDate !== today;
}

function drawFortune() {
    if (!canDrawFortune()) {
        alert("‚ùó ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏ã‡∏µ‡∏¢‡∏°‡∏ã‡∏µ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà‡∏û‡∏£‡∏∏‡πà‡∏á‡∏ô‡∏µ‡πâ!");
        return;
    }

    let randomIndex = Math.floor(Math.random() * fortunes.length);
    let fortune = fortunes[randomIndex];
    let today = getDayOfWeek();
    let lucky = dailyLuckyItems[today];

    let message = `<p>${fortune.text}</p>`;
    message += `<p style="color: #FFD700;"><strong>üîÆ ‡∏Ç‡∏≠‡∏á‡∏ô‡∏≥‡πÇ‡∏ä‡∏Ñ:</strong> ${lucky.item}</p>`;
    message += `<p style="color: #FFD700;"><strong>üé® ‡∏™‡∏µ‡∏ô‡∏≥‡πÇ‡∏ä‡∏Ñ:</strong> ${lucky.color}</p>`;

    if (fortune.type === "good") {
        showPopup("üéâ ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! üéâ", message, "green");
    } else if (fortune.type === "neutral") {
        showPopup("üîÆ ‡∏Ñ‡∏≥‡∏ó‡∏≥‡∏ô‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì", message, "blue");
    } else {
        showPopup("üò¢ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏á‡∏ß‡∏•! üò¢", message, "red");
    }

    localStorage.setItem("lastDrawDate", new Date().toISOString().split("T")[0]);
}

function showPopup(title, content, color) {
    let popup = document.getElementById("popup");
    document.getElementById("popupTitle").innerHTML = title;
    document.getElementById("popupContent").innerHTML = content;
    popup.style.backgroundColor = color === "green" ? "#4CAF50" : color === "blue" ? "#1E90FF" : "#B22222";
    popup.style.display = "block";
}

function closePopup() {
    document.getElementById("popup").style.display = "none";
}